/**
 * ngc-srcset
 * http://angular-contrib.github.io/ngc-srcset
 *
 * @version 0.9.0
 * @license BSD
 */
!function(){"use strict";function a(a,b){return Math.floor(Math.random()*(b-a+1))+a}function b(a){return[].slice.call(a,0)}function c(a){return parseInt(a,10)===a&&a>=0}function d(a){return parseFloat(a)===a&&a>=0}function e(c,d,e,f){function g(){return c.innerHeight||d[0].documentElement.clientHeight}function h(){return c.innerWidth||d[0].documentElement.clientWidth}function i(a,d){var e;return function(){c.clearTimeout(e),e=c.setTimeout(d.apply(this,b(arguments)),a)}}var m=c.devicePixelRatio||1,n=h(),o=g(),r={};return q.element(c).bind("resize",i(10,function(){var a,b=h(),c=g();if(b!=n||c!=o){n=b,o=c;for(a in r)r.hasOwnProperty(a)&&r[a]()}})),{restrict:"ACM",link:function(b,c,d){var g,h=a(k,l),q=e(d[j]),s=(d.src||"").trim(),t=i(10,function(a){var b=a?a.url:p;b!=c.attr("src")&&c.attr("src",b)});b.$watch(q,function(a){a=((a||"")+"").trim(),s&&(a=s+" 1x,"+a),g=f(a),t(g.get(n,o,m))},!0),r[h]=function(){g&&t(g.get(n,o,m))},c.bind("$destroy",function(){r.hasOwnProperty(h)&&delete r[h]})}}}function f(){function a(a){var c,d,e,f,i,j,k,l,m=[];if(null!=a){a=(a+"").replace(h," ").trim(),c=a.split(",");a:for(i=0;i<c.length;i++)if(d=c[i].trim(),k=d.indexOf(" "),k>1&&(f=d.substring(0,k).trim(),e=b(d.substring(k+1))),!(1>k)&&e&&f.length){for(e.url=f,j=0;j<m.length;j++)if(l=m[j],l.w===e.w&&l.h===e.h&&l.x===e.x)continue a;m.push(e)}}return new g(m)}function b(a){var b,c,d,e,f,g,l=(a+"").replace(h," ").split(" ");for(f=0;f<l.length;f++)if(g=l[f],e=i.exec(g)){if(null!=b)return null;b=parseFloat(e[1])}else if(e=j.exec(g)){if(null!=c)return null;c=parseInt(e[1],10)}else{if(!(e=k.exec(g)))return null;if(null!=d)return null;d=parseInt(e[1],10)}return null==b&&null==c&&null==d?null:(b=null==b?m:b,c=null==c?n:c,d=null==d?o:d,{w:c,h:d,x:b})}function e(a,b,c){var d,e,f=0,g=[];for(d=0;d<a.length;d++)e=a[d],e[b]<c&&g.push(d),e[b]>f&&(f=e[b]);if(g.length<a.length)for(d=g.length-1;d>=0;d--)a.splice(g[d],1);else for(d=a.length-1;d>=0;d--)a[d][b]<f&&a.splice(d,1)}function f(a,b){var c,d,e=1/0;for(c=0;c<a.length;c++)d=a[c],d[b]<e&&(e=d[b]);for(c=a.length-1;c>=0;c--)a[c][b]>e&&a.splice(c,1)}function g(a){this._c=a}var h=/\s+/,i=/^([0-9]*\.?\d+)x$/,j=/^(\d+)w$/,k=/^(\d+)h$/;return g.prototype={get:function(a,b,g){var h=q.copy(this._c);if(!h||!h.length)return null;if(!c(a)||!c(b)||!d(g))throw new TypeError("First and second arguments need to be non-negative integers, and third argument need to be a non-negative float.");return e(h,"w",a),e(h,"h",b),e(h,"x",g),f(h,"w"),f(h,"h"),f(h,"x"),h[0]}},a}var g="ngc",h=g+"Srcset",i=h,j=i,k=1e9,l=9999999999,m=1,n=1/0,o=1/0,p="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",q=angular,r=q.module(h,[]);r.directive(i,e),e.$inject=["$window","$document","$parse",g+".srcsetParser"],r.factory(g+".srcsetParser",f)}();